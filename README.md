# Описание

- Всем приветики! Это микро версия помки. Давайте посмотрим на то что там творится 

# Установка

- Установите node.js

- У вас есть два варианта получить преоект : 

1. Клонировать проект: 
    1. Установите git
    2. Напишите в консоль `git clone https://github.com/VandiKond/Pomka-lite.git`
2. Скачайте .zip проект [отсюда](https://github.com/VandiKond/Pomka-lite/archive/refs/heads/main.zip)

- Устоновите все библиотеки. Скопируйте содержимое файла *node_install.md* и вставте в консоль

- Создайте файл *Config.bot\Config.js*

- Добавлте в него базувую инфомацию. Пример : 

``` JavaScript
const { Telegraf } = require('telegraf');

const tokens = [{ 'token': 'ТВОЙ_ТОКЕН', 'bot type': 'Разработка' }]

const Use_tocken = tokens[0]

const bot = new Telegraf(Use_tocken['token']);

const token = 'ТВОЙ_ТОКЕН_ТЕХНИЧЕСКОГО БОТА'

const chanel = "ТВОй_АЙДИ_КАНАЛА_ДЛЯ_ЛОГОВ_КАК_ЧИСЛО"

const chanelBot = new Telegraf(token);

const creator = "ТВОЙ_АЙДИ_В_ТГ_КАК_ЧИСЛО"

// Это массив для разрешиний. Первое это разрешонный чат или bool (true -- для всех, false -- никому) второе это разрешеный пользователь
const if_allow = [true, true] 

// Укажите версию
const version = "<b>1.0</b>"

const start_message =  "ТВОЕ_СООБЩЕНИЕ_ДЛЯ_СТАРТА_БОТА"

const password = "ТВОЙ_КОД_ДЛЯ_БЛОКИРОВКИ"

module.exports = { chanel, chanelBot, bot, creator, if_allow, version, Use_tocken, start_message, password}
```

- Запустите проект `node app.js` 

# Описание функционала

- ФУнкционал бота слишком большой а у меня на документацию день так что пишу только выполнение функций и методов в *app.js* (в `bot.on('message', async (ctx) => {})`) 

## Обьявление данных пользователей

- Мне очень лень обьяснять, онако оно просто валидирует данные, праверяет пользователь на разрешение и блокровку и фоматирует текст что-бы избежать ошибок при оправки текста. 

## Коротко про комады 

- Мой бот обрабатывает команды трех (четырех) типов

1. Полные. Используют все сообщение пользователя (Не требуют доп инфомации)

2. Однословные. Используют первое слово в сообщение пользователя и передает функции/методу остальной текст

3. Двусловные. Анологично с прошлым, однако использует два слова.

4. Использование команд. Предполагает любую длинну команды до 100 символов

## Полные

1. бот/помка
    - отправляет сообщение о том, что бот на месте

2. версия
    - отправляет версию бота

3. команды
    - отправляет список рп команд бота (первую страницу)
    - дает возможность листать команды и менять сортировку при помощи инлайн-кнопок

4. мои команды
    - анологично прошлому, однако локально для пользователя, отправившего сообщение

5. о боте
    - отправляет информацию о боте (переменную `start_message`)

## Однословные

1. создать
    - создает новую рп команду
    - оставшийся текст должен быть в фомате `команда/действие`:
        1. `созать обнять/обнял`
        2. `создать ударить/ударил`
        3. `создать погладить/погладил`

2. удалить
    - удаляет рп команду, которую вы создали
    - предпологает данные как `команда`:
        1. `удалить обнять`
        2. `удалить ударить`
        3. `удалить погладить`

3. изменть 
    - изменяет действие вашей рп команды
    - текст дол жен быть в фомате `команда/новое действие`:
        1. `изменить обнять/крепко обнял`
        2. `изменить ударить/сильно ударил`
        3. `изменить погладить/нежно погладил`

4. команда
    - отправляет данные команды 
    - предпологает данные как `команда`:
        1. `команда обнять`
        2. `команда ударить`
        3. `команда погладить`

5. действие 
    - отправляет данные действия 
    - действие -- запись о том или ином событии будь то созание пользователя, создание, изменение, удаление команды и т.п.
    - предпологает данные как `номер действия`
        1. `действие 1`
        2. `действие 2`
        3. `действие 10`

6. данные
    - только создателю бота передает данные таблиц
    - в зависимости от введеных данных меняется и таблица: 
        1. по умолчанию `данные` -- данные пользвателей
        2. `транзакций` -- данные всех действий
        3. `команд` -- данные всех рп команд

## Двусловные 

1. твои команды
    - анлогично *мои команды* но для другого польователя
    - предпологает упоменание пользователя в оставшихся данных

2. блок `password`
    - блокирует пользователя
    - `password` -- пароль указыный в `Config.bot\Config.js`
    - предполагает упоминание пользователя

3. разблок `password`
    - разблокирует пользователя
    - `password` -- пароль указыный в `Config.bot\Config.js`
    - предполагает упоминание пользователя

## callback_query

1. view_all_commands
    - изменение порядка/страницы в просмотре всех команд

2. view_usr_commands 
    - изменение порядка/страницы в просмотре команд конкретного пользователя